<?xml version="1.0" encoding="utf-8"?><?workdir /Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/temp/xhtml/dev_ref?><?workdir-uri file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/temp/xhtml/dev_ref/?><?path2project ../?><?path2project-uri ../?><?doctype-public -//OASIS//DTD DITA Concept//EN?><?doctype-system concept.dtd?><concept xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" id="processing-order" xml:lang="en-US" ditaarch:DITAArchVersion="1.3" domains="(topic concept)                            (topic abbrev-d)                            a(props deliveryTarget)                            (topic equation-d)                            (topic hazard-d)                            (topic hi-d)                            (topic indexing-d)                            (topic markup-d)                            (topic mathml-d)                            (topic pr-d)                            (topic relmgmt-d)                            (topic sw-d)                            (topic svg-d)                            (topic ui-d)                            (topic ut-d)                            (topic markup-d xml-d)   " class="- topic/topic concept/concept " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="concept:1;5:49">
  <title class="- topic/title " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="title:1;6:10">Processing order</title>
  <shortdesc class="- topic/shortdesc " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="shortdesc:1;7:14">The order of processing is often significant when evaluating DITA content. Although the DITA specification
    does not mandate a specific order for processing, the DITA-OT has determined that performing filtering before conref
    resolution best meets user expectations. Switching the order of processing, while legal, may give different results. </shortdesc>
  <conbody class="- topic/body  concept/conbody " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="conbody:1;10:12">
    <section class="- topic/section " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="section:1;11:14">
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="p:1;12:10">The DITA-OT project has found that filtering first provides several benefits. Consider the following sample
        that contains a <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="xmlelement:1;13:37">note</xmlelement> element that both uses conref and contains a
          <xmlatt class="+ topic/keyword markup-d/markupname xml-d/xmlatt " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="xmlatt:1;14:19">product</xmlatt>
        attribute:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="codeblock:1;15:30">&lt;note conref="documentA.dita#doc/note" product="MyProd"/&gt;</codeblock></p>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="p:2;16:10">If the <xmlatt class="+ topic/keyword markup-d/markupname xml-d/xmlatt " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="xmlatt:2;16:25">conref</xmlatt> attribute is evaluated first, then documentA must be parsed in order to retrieve
        the note content. That content is then stored in the current document (or in a representation of that document
        in memory). However, if all content with product="MyProd" is filtered out, then that work is all discarded later
        in the build.</p><p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="p:3;19:29">If the filtering is done first (as in the DITA-OT), this element is discarded immediately, and
        documentA is never examined. This provides several important benefits:<ul class="- topic/ul " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="ul:1;20:83">
          <li class="- topic/li " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="li:1;21:15">Time is saved by discarding unused content as early as possible; all future steps can load the document
            without this extra content.</li>
          <li class="- topic/li " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="li:2;23:15">Additional time is saved case by not evaluating the <xmlatt class="+ topic/keyword markup-d/markupname xml-d/xmlatt " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="xmlatt:3;23:75">conref</xmlatt> attribute; in fact, documentA
            does not even need to be parsed.</li>
          <li class="- topic/li " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="li:3;25:15">Any user reproducing this build does not need documentA. If the content is sent to a translation team,
            that team can reproduce an error-free build without documentA; this means documentA can be kept back from
            translation, preventing accidental translation and increased costs.</li>
        </ul></p>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="p:4;29:10">If the order of these two steps is reversed, so that conref is evaluated first, it is possible that results
        will differ. For example, in the code sample above, the <xmlatt class="+ topic/keyword markup-d/markupname xml-d/xmlatt " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="xmlatt:4;30:73">product</xmlatt> attribute on the reference
        target will override the product setting on the referencing note. Assume that the referenced
          <xmlelement class="+ topic/keyword markup-d/markupname xml-d/xmlelement " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="xmlelement:2;32:23">note</xmlelement> element in documentA is defined as follows:
        <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="codeblock:2;33:20">&lt;note id="note" product="SomeOtherProduct"&gt;This is an important note!&lt;/note&gt;</codeblock></p>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/processing-order.dita" xtrc="p:5;34:10">A process that filters out product="SomeOtherProduct" will remove the target of the original conref before that
        conref is ever evaluated, which will result in a broken reference. Evaluating conref first would resolve the
        reference, and only later filter out the target of the conref. While some use cases can be found where this is
        the desired behavior, benefits such as those described above resulted in the current processing order used by
        the DITA-OT. </p>
    </section>
  </conbody>
<related-links class="- topic/related-links "><linkpool class="- topic/linkpool " xtrc="topicref:4;10:45" xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/dev_ref.ditamap"><link class="- topic/link " format="dita" href="../dev_ref/DITA-OTArchitecture.dita" mapclass="- map/topicref " role="parent" scope="local" type="concept" xtrc="topicref:1;7:45" xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/dev_ref.ditamap"><?ditaot usertext?><linktext class="- topic/linktext "><?ditaot gentext?>Architecture of the DITA Open Toolkit</linktext><?ditaot genshortdesc?><desc class="- topic/desc ">The DITA Open Toolkit is an open-source implementation of the OASIS specification for the Darwin     Information Typing Architecture. The toolkit uses Ant, XSLT, and Java to transform DITA content (maps and     topics) into different deliverable formats.</desc></link></linkpool></related-links></concept>