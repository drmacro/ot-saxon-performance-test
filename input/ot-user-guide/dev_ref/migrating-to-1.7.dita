<?xml version="1.0" encoding="utf-8"?><?workdir /Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/temp/xhtml/dev_ref?><?workdir-uri file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/temp/xhtml/dev_ref/?><?path2project ../?><?path2project-uri ../?><?doctype-public -//OASIS//DTD DITA Reference//EN?><?doctype-system reference.dtd?><reference xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" id="ID" rev="1.7" ditaarch:DITAArchVersion="1.3" domains="(topic reference)                            (topic abbrev-d)                            a(props deliveryTarget)                            (topic equation-d)                            (topic hazard-d)                            (topic hi-d)                            (topic indexing-d)                            (topic markup-d)                            (topic mathml-d)                            (topic pr-d)                            (topic relmgmt-d)                            (topic sw-d)                            (topic svg-d)                            (topic ui-d)                            (topic ut-d)                            (topic markup-d xml-d)   " class="- topic/topic       reference/reference " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="reference:1;5:30">

  <title class="- topic/title " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="title:1;7:10">Migrating to release 1.7</title>

  <shortdesc class="- topic/shortdesc " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="shortdesc:1;9:14">In DITA-OT 1.7, a new preprocessing step implements flagging for HTML-based output formats. PDF processing
    was corrected with regard to <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:1;10:42">shortdesc</codeph> handling, and a new XSLT template mode was introduced for
    HTML TOC processing. Several stylesheets were moved to plug-in specific folders and deprecated properties and XSLT
    variables were removed. </shortdesc>

  <refbody class="- topic/body        reference/refbody " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="refbody:1;14:12">
    <section class="- topic/section " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="section:1;15:14">
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:1;16:10">A new job status file <filepath class="+ topic/ph sw-d/filepath " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="filepath:1;16:42">.job.xml</filepath> has been introduced and replaces
          <filepath class="+ topic/ph sw-d/filepath " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="filepath:2;17:21">dita.list</filepath> and <filepath class="+ topic/ph sw-d/filepath " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="filepath:3;17:56">dita.xml.properties</filepath> as the normative source for job
        status. If you have custom processing which modifies the job properties, you should change your code to modify
          <filepath class="+ topic/ph sw-d/filepath " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="filepath:4;19:21">.job.xml</filepath> instead.</p>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:2;20:10">Support for the following deprecated properties has been removed:</p>
      <ul class="- topic/ul " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="ul:1;21:11">
        <li class="- topic/li " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="li:1;22:13"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:2;22:21">dita.input</codeph></li>
        <li class="- topic/li " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="li:2;23:13"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:3;23:21">dita.input.dirname</codeph></li>
        <li class="- topic/li " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="li:3;24:13"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:4;24:21">dita.extname</codeph></li>
      </ul>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:3;26:10">Stylesheets for the following transformation types have moved to plug-in specific folders:</p>
      <ul class="- topic/ul " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="ul:2;27:11">
        <li class="- topic/li " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="li:4;28:13">docbook</li>
        <li class="- topic/li " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="li:5;29:13">eclipsecontent</li>
        <li class="- topic/li " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="li:6;30:13">troff</li>
        <li class="- topic/li " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="li:7;31:13">wordrtf</li>
      </ul>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:4;33:10">If custom plug-ins have hard coded paths to these stylesheets, update references to use either
          <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:5;34:19">plugin</codeph> URIs in <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:6;34:51">xsl:import</codeph> instructions or use <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:7;34:99">dita.plugin.*</codeph>
        Ant properties.</p>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:5;36:10">The integration process has been changed to use strict mode by default. For old plug-ins which are not valid,
          <keyword class="- topic/keyword " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="keyword:1;37:20">lax</keyword> processing mode can still be used.</p>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:6;38:10">Plug-ins that use the <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:8;38:40">MessageUtils</codeph> Java class must use <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:9;38:90">getInstance</codeph> method to
        access the <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:10;39:28">MessageUtils</codeph> instance, as <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:11;39:71">getMessage</codeph> methods have been changed to
        instance methods.</p>
    </section>
    <section class="- topic/section " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="section:2;42:14">
      <title class="- topic/title " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="title:2;43:14">Preprocessing</title>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:7;44:10">The preprocessing Ant dependency chain has been cleaned up. Tasks no longer depend on the previous task in the
        default chain, but rather the whole preprocess dependency chain is defined by the <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:12;45:99">preprocess</codeph>
        task.</p>
    </section>
    <section class="- topic/section " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="section:3;48:14">
      <title class="- topic/title " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="title:3;49:14">HTML</title>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:8;50:10">Core TOC generation has been moved to a separate XSLT stylesheet
          <filepath class="+ topic/ph sw-d/filepath " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="filepath:5;51:21">xsl/map2htmtoc/map2htmlImpl.xsl</filepath> and the new templates use the mode <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:13;51:107">toc</codeph>.
        Plug-ins which override HTML TOC processing should change the map processing templates to <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:14;52:107">toc</codeph>
        mode.</p>
    </section>
    <section class="- topic/section " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="section:4;55:14">
      <title class="- topic/title " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="title:4;56:14">HTML and extended transformation types</title>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:9;57:10">Flagging logic has been pulled out of the core X/HTML code and moved to a preprocess step. This significantly
        simplifies and optimizes the X/HTML code, while making flagging logic available to any other transformation
        type. The new preprocess step implements all flagging logic; for each active flag, it adds a DITA-OT specific
        hint into the intermediate topics (implemented as a specialization of the DITA &lt;foreign&gt; element). As part
        of this change, all flagging-related templates in the XHTML code (such as start-flagit and gen-style) are
        deprecated.</p>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:10;63:10">If you override the X/HTML transforms, you may need to update your overrides to use the new flagging logic. In
        most cases this just means deleting calls to the deprecated templates; in some cases, the calls can be replaced
        with 2 lines to process flags in new places. You should compare your override to the updated XHTML code and
        update as needed. See <xref href="flagging-migration.dita" class="- topic/xref " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="xref:1;66:69" type="reference"><?ditaot gentext?>XHTML migration for flagging updates in DITA-OT 1.7<?ditaot genshortdesc?><desc class="- topic/desc ">This topic is primarily of interest to developers with XHTML transform overrides written prior to DITA-OT     1.7. Due to significant changes in the flagging process with the 1.7 release, some changes may be needed to make     overrides work properly with DITAVAL based flagging. The new design is significantly simpler than the old design; in     many cases, migration will consist of deleting old code that is no longer needed.</desc></xref> for details.</p>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:11;67:10">Plug-ins that provide support for new transforms need to ensure that they properly support the DITA
        &lt;foreign&gt; element, which should be ignored by default; if so, this change will have no immediate impact.
        Support for flagging new transformation types may be more easily added based on this update, because there is no
        need to re-implement flagging logic, but this is not required. See <xref href="preprocess-flagging.dita" class="- topic/xref " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="xref:2;70:115" type="reference"><?ditaot gentext?>Flagging in the toolkit<?ditaot genshortdesc?><desc class="- topic/desc ">Beginning with DITA-OT 1.7, flagging support is implemented as a common preprocess module. The module     evaluates the DITAVAL against all flagging attributes, and adds DITA-OTâ€“specific hints to the topic when flags are     active. Any extended transformation type may use these hints to support flagging without adding logic to interpret     the DITAVAL.</desc></xref> for
        details on how to add flagging support.</p>
    </section>
    <section class="- topic/section " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="section:5;73:14">
      <title class="- topic/title " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="title:5;74:14">PDF</title>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:12;75:10">The following deprecated XSLT variables have been removed:</p>
      <ul class="- topic/ul " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="ul:3;76:11">
        <li class="- topic/li " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="li:8;77:13"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:15;77:21">page-margin-left</codeph></li>
        <li class="- topic/li " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="li:9;78:13"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:16;78:21">page-margin-right</codeph></li>
      </ul>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:13;80:10">XSLT stylesheets have been split to separate specialization topic code and new <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:17;80:97">xsl:import</codeph>
        instructions have been added to <filepath class="+ topic/ph sw-d/filepath " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="filepath:6;81:51">topic2fo.xsl</filepath>. Plug-ins which define their own shell
        stylesheet should be revised to import all the required stylesheet modules.</p>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:14;83:10">PDF processing used to replace topic <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:18;83:55">shortdesc</codeph> with map <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:19;83:91">shortdesc</codeph>, but this
        behavior was incorrect and was removed to comply with the DITA specification.</p>
      <p class="- topic/p " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="p:15;85:10">A new <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migrating-to-1.7.dita" xtrc="codeph:20;85:24">#note-separator</codeph> variable string was added to facilitate customization.</p>
    </section>
  </refbody>
<related-links class="- topic/related-links "><linkpool class="- topic/linkpool " xtrc="topicref:7;13:62" xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migration.ditamap"><link class="- topic/link " format="dita" href="../dev_ref/migration.dita" mapclass="- map/topicref " role="parent" scope="local" type="reference" xtrc="topicref:1;7:51" xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migration.ditamap"><?ditaot usertext?><linktext class="- topic/linktext "><?ditaot gentext?>Migrating customizations</linktext><?ditaot genshortdesc?><desc class="- topic/desc ">If you have XSL transformation overrides, plug-ins or other customizations written prior to DITA-OT       <keyword class="- topic/keyword " keyref="release" xtrc="keyword:1;8:34" xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migration.dita">2.3</keyword>, you may need to make changes to ensure your overrides work properly with the latest     toolkit versions. </desc></link><linkpool class="- topic/linkpool " xtrc="topicref:7;13:62" xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migration.ditamap"><link class="- topic/link " format="dita" href="../dev_ref/flagging-migration.dita" mapclass="- map/topicref " rev="1.7" role="child" scope="local" type="reference" xtrc="topicref:8;14:87" xtrf="file:/Users/ekimber/workspace-ditaot/dita-ot-2.x/src/main/docsrc/dev_ref/migration.ditamap"><?ditaot usertext?><linktext class="- topic/linktext "><?ditaot gentext?>XHTML migration for flagging updates in DITA-OT 1.7</linktext><?ditaot genshortdesc?><desc class="- topic/desc ">This topic is primarily of interest to developers with XHTML transform overrides written prior to DITA-OT     1.7. Due to significant changes in the flagging process with the 1.7 release, some changes may be needed to make     overrides work properly with DITAVAL based flagging. The new design is significantly simpler than the old design; in     many cases, migration will consist of deleting old code that is no longer needed.</desc></link></linkpool></linkpool></related-links></reference>